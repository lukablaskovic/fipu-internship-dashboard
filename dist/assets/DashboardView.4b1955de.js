import{_ as H,b as xe,a as v,U as G,s as ae,d as Se,t as we,c as Ie,m as Me}from"./index.79b4ef11.js";import{an as Ee,ao as Ce,ap as Te,aq as C,ar as Ae,as as je,at as J,au as W,av as le,aw as Re,ax as De,ay as Pe,az as oe,aA as $e,aB as Be,aC as Fe,aD as R,aE as M,aF as Oe,aG as ue,aH as ge,aI as Ne,aJ as Le,a7 as Ge,a8 as Ve,aK as qe,y as ze,aL as He,aM as Je,aN as Ke,a as de,x as Ue,aO as We,aP as Ye,K as Qe,aQ as Ze,aR as Xe,aS as et,b as tt,_ as at}from"./BaseButton.bc4b7cea.js";import{h as ce}from"./moment-setup.afefb272.js";import{b as lt,_ as ve,a as st}from"./SectionTitleLineWithButton.01820f4a.js";import{A as D,_ as F}from"./maps.e75fd1f7.js";import{_ as nt}from"./CardBox.07416a0a.js";import{_ as K}from"./TableAvailableAssignments.29413b37.js";import{k as Y,r as x,f as S,p as it,q as U,D as rt,E as ot,n as L,i as ut,x as u,G as w,J as j,F as y,z as c,A as B,u as s,y as A,a5 as dt,T as ct,C as me,H as V,M as q,O as vt,w as pe,K as X}from"./vue.f9cfebed.js";import{a as mt}from"./LayoutAuthenticated.0d193c5e.js";import{_ as pt}from"./BaseButtons.e0ebdabe.js";import"./vendor.15896b3d.js";import"./validators.3759a75c.js";import"./SnackBar.1a5a1851.js";import"./FormCheckRadio.8030a8fa.js";import"./FormField.2e1ad0a6.js";import"./FormFilePicker.ac45ab1f.js";import"./FormCheckRadioGroup.fc40e1b5.js";import"./LoadingOverlay.e769fc1d.js";var ft=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ft||{}),gt=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(gt||{});function _t(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let _e=Symbol("MenuContext");function Q(a){let i=ut(_e,null);if(i===null){let g=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(g,Q),g}return i}let bt=Y({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:i,attrs:g}){let h=x(1),b=x(null),I=x(null),e=x([]),m=x(""),p=x(null),f=x(1);function r(t=l=>l){let l=p.value!==null?e.value[p.value]:null,n=Ne(t(e.value.slice()),E=>C(E.dataRef.domRef)),_=l?n.indexOf(l):null;return _===-1&&(_=null),{items:n,activeItemIndex:_}}let o={menuState:h,buttonRef:b,itemsRef:I,items:e,searchQuery:m,activeItemIndex:p,activationTrigger:f,closeMenu:()=>{h.value=1,p.value=null},openMenu:()=>h.value=0,goToItem(t,l,n){let _=r(),E=Fe(t===R.Specific?{focus:R.Specific,id:l}:{focus:t},{resolveItems:()=>_.items,resolveActiveIndex:()=>_.activeItemIndex,resolveId:k=>k.id,resolveDisabled:k=>k.dataRef.disabled});m.value="",p.value=E,f.value=n!=null?n:1,e.value=_.items},search(t){let l=m.value!==""?0:1;m.value+=t.toLowerCase();let n=(p.value!==null?e.value.slice(p.value+l).concat(e.value.slice(0,p.value+l)):e.value).find(E=>E.dataRef.textValue.startsWith(m.value)&&!E.dataRef.disabled),_=n?e.value.indexOf(n):-1;_===-1||_===p.value||(p.value=_,f.value=1)},clearSearch(){m.value=""},registerItem(t,l){let n=r(_=>[..._,{id:t,dataRef:l}]);e.value=n.items,p.value=n.activeItemIndex,f.value=1},unregisterItem(t){let l=r(n=>{let _=n.findIndex(E=>E.id===t);return _!==-1&&n.splice(_,1),n});e.value=l.items,p.value=l.activeItemIndex,f.value=1}};return Ee([b,I],(t,l)=>{var n;o.closeMenu(),Ce(l,Te.Loose)||(t.preventDefault(),(n=C(b))==null||n.focus())},S(()=>h.value===0)),it(_e,o),Ae(S(()=>je(h.value,{[0]:J.Open,[1]:J.Closed}))),()=>{let t={open:h.value===0,close:o.closeMenu};return W({ourProps:{},theirProps:a,slot:t,slots:i,attrs:g,name:"Menu"})}}}),ht=Y({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:i,slots:g,expose:h}){var b;let I=(b=a.id)!=null?b:`headlessui-menu-button-${le()}`,e=Q("MenuButton");h({el:e.buttonRef,$el:e.buttonRef});function m(o){switch(o.key){case M.Space:case M.Enter:case M.ArrowDown:o.preventDefault(),o.stopPropagation(),e.openMenu(),L(()=>{var t;(t=C(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(R.First)});break;case M.ArrowUp:o.preventDefault(),o.stopPropagation(),e.openMenu(),L(()=>{var t;(t=C(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(R.Last)});break}}function p(o){switch(o.key){case M.Space:o.preventDefault();break}}function f(o){a.disabled||(e.menuState.value===0?(e.closeMenu(),L(()=>{var t;return(t=C(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(o.preventDefault(),e.openMenu(),_t(()=>{var t;return(t=C(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let r=Re(S(()=>({as:a.as,type:i.type})),e.buttonRef);return()=>{var o;let t={open:e.menuState.value===0},{...l}=a,n={ref:e.buttonRef,id:I,type:r.value,"aria-haspopup":"menu","aria-controls":(o=C(e.itemsRef))==null?void 0:o.id,"aria-expanded":e.menuState.value===0,onKeydown:m,onKeyup:p,onClick:f};return W({ourProps:n,theirProps:l,slot:t,attrs:i,slots:g,name:"MenuButton"})}}}),yt=Y({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(a,{attrs:i,slots:g,expose:h}){var b;let I=(b=a.id)!=null?b:`headlessui-menu-items-${le()}`,e=Q("MenuItems"),m=x(null);h({el:e.itemsRef,$el:e.itemsRef}),De({container:S(()=>C(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function p(t){var l;switch(m.value&&clearTimeout(m.value),t.key){case M.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case M.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let n=e.items.value[e.activeItemIndex.value];(l=C(n.dataRef.domRef))==null||l.click()}e.closeMenu(),ge(C(e.buttonRef));break;case M.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(R.Next);case M.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(R.Previous);case M.Home:case M.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(R.First);case M.End:case M.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(R.Last);case M.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),L(()=>{var n;return(n=C(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case M.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),L(()=>Oe(C(e.buttonRef),t.shiftKey?ue.Previous:ue.Next));break;default:t.key.length===1&&(e.search(t.key),m.value=setTimeout(()=>e.clearSearch(),350));break}}function f(t){switch(t.key){case M.Space:t.preventDefault();break}}let r=Pe(),o=S(()=>r!==null?(r.value&J.Open)===J.Open:e.menuState.value===0);return()=>{var t,l;let n={open:e.menuState.value===0},{..._}=a,E={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(l=C(e.buttonRef))==null?void 0:l.id,id:I,onKeydown:p,onKeyup:f,role:"menu",tabIndex:0,ref:e.itemsRef};return W({ourProps:E,theirProps:_,slot:n,attrs:i,slots:g,features:oe.RenderStrategy|oe.Static,visible:o.value,name:"MenuItems"})}}}),kt=Y({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{slots:i,attrs:g,expose:h}){var b;let I=(b=a.id)!=null?b:`headlessui-menu-item-${le()}`,e=Q("MenuItem"),m=x(null);h({el:m,$el:m});let p=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===I:!1),f=$e(m),r=S(()=>({disabled:a.disabled,get textValue(){return f()},domRef:m}));U(()=>e.registerItem(I,r)),rt(()=>e.unregisterItem(I)),ot(()=>{e.menuState.value===0&&p.value&&e.activationTrigger.value!==0&&L(()=>{var k,$;return($=(k=C(m))==null?void 0:k.scrollIntoView)==null?void 0:$.call(k,{block:"nearest"})})});function o(k){if(a.disabled)return k.preventDefault();e.closeMenu(),ge(C(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(R.Nothing);e.goToItem(R.Specific,I)}let l=Be();function n(k){l.update(k)}function _(k){l.wasMoved(k)&&(a.disabled||p.value||e.goToItem(R.Specific,I,0))}function E(k){l.wasMoved(k)&&(a.disabled||p.value&&e.goToItem(R.Nothing))}return()=>{let{disabled:k,...$}=a,Z={active:p.value,disabled:k,close:e.closeMenu};return W({ourProps:{id:I,ref:m,role:"menuitem",tabIndex:k===!0?void 0:-1,"aria-disabled":k===!0?!0:void 0,onClick:o,onFocus:t,onPointerenter:n,onMouseenter:n,onPointermove:_,onMousemove:_,onPointerleave:E,onMouseleave:E},theirProps:{...g,...$},slot:Z,attrs:g,slots:i,name:"MenuItem"})}}});const xt={class:"text-center space-y-1 md:text-left md:mr-6"},St={class:"text-xl"},wt={class:"text-gray-500 dark:text-slate-400"},It={class:"text-gray-500 dark:text-slate-400"},Mt={class:"text-center md:text-right space-y-2"},Et={class:"text-sm text-gray-500"},fe={__name:"CardBoxEvents",props:{student:{type:String,required:!0},date:{type:String,required:!0},type:{type:String,required:!0},jmbag:{type:String,required:!0},email:{type:String,required:!0}},setup(a){const i=a,g=S(()=>{const h=D.getEvent(i.type);return h?{icon:h.icon,type:h.type}:{icon:Le,type:"info"}});return(h,b)=>(u(),w(nt,{class:"mb-6 last:mb-0","is-hoverable":""},{default:j(()=>[y(H,null,{default:j(()=>[y(H,{type:"justify-start"},{default:j(()=>[y(lt,{icon:g.value.icon,color:g.value.type,class:"md:mr-6"},null,8,["icon","color"]),c("div",xt,[c("h4",St,B(a.student),1),c("p",wt,[c("b",null,"JMBAG: "+B(a.jmbag),1)]),c("p",It,[c("em",null,"Email: "+B(a.email),1)])])]),_:1}),c("div",Mt,[c("p",Et,B(i.date),1),c("div",null,[y(K,{color:g.value.type,label:s(D).getEvent(a.type).message,small:""},null,8,["color","label"])])])]),_:1})]),_:1}))}};const Ct={},Tt={class:"shadow rounded-md p-6 max-w-sm w-full mx-auto"};function At(a,i){return u(),A("div",Tt,i[0]||(i[0]=[dt('<div class="flex-1 space-y-6 py-1"><div class="animate-pulse h-2 rounded"></div><div class="space-y-3"><div class="grid grid-cols-4 gap-4"><div class="animate-pulse h-2 rounded col-span-3"></div><div class="animate-pulse rounded-full h-10 w-10 col-span-1"></div></div><div class="animate-pulse h-2 rounded"></div></div></div>',1)]))}const O=xe(Ct,[["render",At]]);const N={__name:"SkeletonLoaderEvent",setup(a){return(i,g)=>(u(),w(H,{"full-width":""},{default:j(()=>g[0]||(g[0]=[c("div",{class:"shadow rounded-md p-6 w-full mx-auto m-2"},[c("div",{class:"flex-1 space-y-6 py-1"},[c("div",{class:"animate-pulse h-2 rounded"}),c("div",{class:"space-y-3"},[c("div",{class:"grid grid-cols-4 gap-4"},[c("div",{class:"animate-pulse h-2 rounded col-span-3"})]),c("div",{class:"animate-pulse h-2 rounded"})])])],-1)])),_:1}))}},jt=["disabled","onClick"],Rt={class:"grow flex justify-start items-center text-left"},Dt={__name:"PillTagFilter",props:{trend:{type:String,required:!0},trendType:{type:String,default:null},small:Boolean,icon:{type:String,default:null},iconRight:{type:String,default:null},label:{type:String,default:null},options:{type:Array,required:!0},modelValue:{type:String,default:null},left:Boolean,iconW:{type:String,default:null},iconH:{type:String,default:null},iconSize:{type:[String,Number],default:null},color:{type:String,default:"lightDark"},outline:Boolean,disabled:Boolean},setup(a){const i=a;U(()=>{if(i.trendType==="filter"){const f=v.selectedEvents;b.value=[...f],G.isArrayEmpty(f)&&m()}});const g=S(()=>{const f=D.events.filter(r=>!D.skipEvents.includes(r.activity_id)&&!D.isGatewayEvent(r.activity_id)).map(r=>r.activity_id);return G.arraysEqual(v.selectedEvents,f)}),h=S(()=>{if(i.trendType==="up")return{icon:Ge,style:"success"};if(i.trendType==="down")return{icon:Ve,style:"danger"};if(i.trendType==="alert")return{icon:qe,style:"warning"};if(i.trendType==="filter")return{icon:g.value?ze:He,style:g.value?"fipu_blue":"success"};const f=defineEmits(["update:modelValue"]);return S({get:()=>i.modelValue,set:r=>{f("update:modelValue",r)}}),{style:"info"}}),b=x([]),I=async()=>{v.selectedEvents=b.value,ae.pushMessage("Event-Filteri a\u017Eurirani!","success"),await G.wait(.5),location.reload()},e=f=>{let o=f.replace(/_/g," ").split(" ");for(let t=0;t<o.length;t++)o[t]=o[t].charAt(0).toUpperCase()+o[t].slice(1);return o.join(" ")},m=()=>{const f=D.events.filter(r=>!D.skipEvents.includes(r.activity_id)&&!D.isGatewayEvent(r.activity_id)).map(r=>r.activity_id);b.value=f,v.selectedEvents=f,ae.pushMessage("Event-Filteri resetirani!","success")},p=f=>{const r=b.value.indexOf(f.label);r===-1?b.value.push(f.label):b.value.splice(r,1)};return(f,r)=>(u(),w(s(bt),{as:"div",class:"relative inline-block text-left"},{default:j(()=>[c("div",null,[y(s(ht),{disabled:a.disabled},{default:j(({open:o})=>[y(K,{label:a.trend,color:h.value.style,icon:h.value.icon,small:a.small,active:o,disabled:a.disabled},null,8,["label","color","icon","small","active","disabled"])]),_:1},8,["disabled"])]),y(ct,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:j(()=>[y(s(yt),{class:me([a.left?"left-0":"right-0","absolute z-50 w-64 md:w-96 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-slate-950 drop-shadow dark:divide-gray-700 h-96 overflow-x-hidden overflow-y-auto fipu_vertical_scrollbar"])},{default:j(()=>[r[0]||(r[0]=c("div",{class:"p-2"},"Odaberite doga\u0111aje za koje \u017Eelite da se prikazuju",-1)),(u(!0),A(V,null,q(a.options,(o,t)=>(u(),A("div",{key:t,class:"px-1 py-1"},[(u(!0),A(V,null,q(o,l=>(u(),w(s(kt),{key:l.id},{default:j(({active:n})=>[c("button",{class:me([l.label==="Spremi"?"hover:bg-emerald-600 dark:hover:bg-emerald-500 hover:font-bold hover:text-slate-100 dark:hover:text-gray-950":n&&l.label!="Resetiraj"?"bg-gray-300 dark:bg-gray-900":"",b.value.includes(l.label)?"bg-fipu_blue hover:bg-fipu_light_blue dark:hover:bg-fipu_dark_blue font-medium text-gray-950 hover:text-slate-800 dark:hover:text-gray-950":"",l.label==="Resetiraj"?"dark:hover:bg-rose-600 hover:bg-rose-500 hover:font-bold hover:text-slate-100 dark:hover:text-slate-950":"","group flex rounded-md items-center w-full px-1 md:px-2 py-1 md:py-2 text-sm my-1 transition-all gap-2 md:gap-3"]),disabled:l.label==="Spremi",onClick:vt(_=>l.label==="Spremi"?I():l.label==="Resetiraj"?m():p(l),["prevent"])},[y(Se,{path:l.icon,class:""},null,8,["path"]),c("div",Rt,B(e(l.label)),1)],10,jt)]),_:2},1024))),128))]))),128))]),_:1},8,["class"])]),_:1})]),_:1}))}},ee={default:{primary:"#00D1B2",info:"#209CEE",danger:"#FF3860"}},Pt=a=>{const i=[];for(let g=0;g<a;g++)i.push(Math.round(Math.random()*200));return i},te=(a,i)=>({fill:!1,borderColor:ee.default[a],borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:ee.default[a],pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:ee.default[a],pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:Pt(i),tension:.5,cubicInterpolationMode:"default"}),$t=(a=12)=>({labels:["Sije\u010Danj","Velja\u010Da","O\u017Eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"].slice(0,a),datasets:[te("primary",a),te("info",a),te("danger",a)]}),Bt=D.events.map(a=>({id:a.activity_id,label:a.activity_id,icon:a.icon})),Ft=[Bt,[{label:"Spremi"},{label:"Resetiraj"}]],Ot={class:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-6"},Nt={class:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-6"},Lt={key:0,class:"flex flex-wrap md:flex-row"},Gt={class:"mb-4"},Vt={class:"flex flex-row"},qt={class:"mb-4"},zt={class:"flex flex-row"},Ht={class:"mb-4"},Jt={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},Kt={class:"flex flex-col"},Ut={class:"flex flex-col"},Wt={key:2,class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},Yt={class:"flex flex-col"},Qt={class:"flex flex-col"},Zt={key:3,class:"text-red-500 mb-6"},Xt={key:4,class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},ba={__name:"DashboardView",setup(a){const i=Ie(),g=x(0),h=x(0),b=x(0),I=x(0),e=x(0);let m=x([]),p=x(!1);U(async()=>{try{await v.getStudents(),await v.searchModels(),g.value=v.dashboard_data.ongoing_internships,h.value=v.dashboard_data.waiting_for_allocation,b.value=v.dashboard_data.waiting_for_evaluation,I.value=v.dashboard_data.waiting_for_mark,e.value=v.dashboard_data.finished_internships;let T=await v.getEvents();T===null?(p.value=!0,ae.pushMessage("Nakon vi\u0161e ponovljenih poku\u0161aja, nije mogu\u0107e dohvatiti evente.","danger")):m.value=T.filter(P=>!D.shouldSkipEvent(P.activity_id)).reverse()}catch(T){console.error("Dashboard rendering error:",T)}});const f=()=>{v.filterActiveInstances=!v.filterActiveInstances},r=S(()=>{if(!v.filterActiveInstances){const T=m.value.filter(d=>d.activity_id==="end_event_student").map(d=>d.instance_id);return m.value.filter(d=>!T.includes(d.instance_id))}return m.value});pe(r,()=>{n.value=0});const o=x(!1),t=T=>v.relativeToNowTimestmap==!0?ce(T).fromNow():ce(T).format("DD/MM/YYYY u HH:mm"),l=x(10),n=x(0),_=S(()=>r.value.slice(l.value*n.value,l.value*(n.value+1))),E=S(()=>_.value.slice(0,5)),k=S(()=>_.value.slice(5,10)),$=S(()=>Math.ceil(r.value.length/l.value)),Z=S(()=>n.value+1),be=S(()=>{const T=[];for(let P=0;P<$.value;P++)T.push(P);return T}),he=()=>{v.relativeToNowTimestmap=!v.relativeToNowTimestmap},se=we(),ne=S(()=>se.isLg),ie=S(()=>se.isMd);pe([ne,ie],()=>{re()});const ye=x(null),re=()=>{ne.value||ie.value,ye.value=$t(12)};return U(()=>{re()}),(T,P)=>(u(),A("div",null,[s(Me).userAuthenticated?(u(),w(mt,{key:0},{default:j(()=>[y(st,null,{default:j(()=>[y(ve,{icon:s(Je),title:"Nadzorna plo\u010Da",main:""},null,8,["icon"]),c("div",Ot,[s(v).studentsFetched?(u(),w(F,{key:0,color:"text-fipu_blue",class:"rounded-lg",icon:s(Ke),number:e.value,label:"Uspje\u0161no odra\u0111enih praksi"},null,8,["icon","number"])):(u(),w(O,{key:1})),s(v).studentsFetched?(u(),w(F,{key:2,color:"text-fipu_blue",class:"rounded-lg",icon:s(de),number:g.value,label:"Trenutno aktivnih praksi"},null,8,["icon","number"])):(u(),w(O,{key:3})),s(v).studentsFetched?(u(),w(F,{key:4,color:"text-fipu_blue",class:"rounded-lg",icon:s(Ue),number:h.value,label:"\u010Ceka na alokaciju"},null,8,["icon","number"])):(u(),w(O,{key:5}))]),c("div",Nt,[s(v).studentsFetched?(u(),w(F,{key:0,color:"text-fipu_blue",class:"rounded-lg",icon:s(We),number:b.value,label:"U procesu evaluacije"},null,8,["icon","number"])):(u(),w(O,{key:1})),s(v).studentsFetched?(u(),w(F,{key:2,color:"text-fipu_blue",class:"rounded-lg",icon:s(Ye),number:0,label:"Odustali od prakse"},null,8,["icon"])):(u(),w(O,{key:3})),s(v).studentsFetched?(u(),w(F,{key:4,color:"text-fipu_blue",class:"rounded-lg",icon:s(Qe),number:I.value,label:"\u010Ceka na upis ocjene"},null,8,["icon","number"])):(u(),w(O,{key:5}))]),y(ve,{icon:s(Ze),title:"Najnoviji doga\u0111aji",main:"",onClick:P[0]||(P[0]=d=>o.value=!0)},null,8,["icon"]),s(p)?X("",!0):(u(),A("div",Lt,[c("div",Gt,[y(Dt,{class:"cursor-pointer","trend-type":"filter",trend:"Doga\u0111aji",options:s(Ft),left:!0},null,8,["options"])]),c("div",Vt,[c("div",qt,[y(K,{class:"cursor-pointer",left:!1,icon:s(v).relativeToNowTimestmap?s(Xe):s(et),color:s(v).relativeToNowTimestmap?"info":"success",label:s(v).relativeToNowTimestmap?"Relativno vrijeme":"Datum",onClick:he},null,8,["icon","color","label"])])]),c("div",zt,[c("div",Ht,[y(K,{class:"cursor-pointer",left:!1,icon:s(v).filterActiveInstances?s(tt):s(de),color:s(v).filterActiveInstances?"info":"success",label:s(v).filterActiveInstances?"Sve instance":"Samo aktivne",onClick:f},null,8,["icon","color","label"])])])])),!s(p)&&!s(G).isArrayEmpty(s(m))?(u(),A("div",Jt,[c("div",Kt,[(u(!0),A(V,null,q(E.value,(d,z)=>(u(),w(fe,{key:"left-"+z,student:d.student_ime+" "+d.student_prezime,date:t(d.timestamp),type:d.activity_id,jmbag:d.student_JMBAG==null?"Gre\u0161ka u dohvatu podataka - JMBAG":d.student_JMBAG,email:d.student_email==null?"Gre\u0161ka u dohvatu podataka - email":d.student_email,class:"rounded-lg cursor-pointer",onClick:ke=>s(i).push(`/studenti/${d.instance_id}`)},null,8,["student","date","type","jmbag","email","onClick"]))),128))]),c("div",Ut,[(u(!0),A(V,null,q(k.value,(d,z)=>(u(),w(fe,{key:"right-"+z,student:d.student_ime+" "+d.student_prezime,date:t(d.timestamp),type:d.activity_id,jmbag:d.student_JMBAG==null?"Gre\u0161ka u dohvatu podataka - JMBAG":d.student_JMBAG,email:d.student_email==null?"Gre\u0161ka u dohvatu podataka - email":d.student_email,class:"rounded-lg cursor-pointer",onClick:ke=>s(i).push(`/studenti/${d.instance_id}`)},null,8,["student","date","type","jmbag","email","onClick"]))),128))])])):!s(p)&&s(G).isArrayEmpty(s(m))?(u(),A("div",Wt,[c("div",Yt,[y(N),y(N),y(N)]),c("div",Qt,[y(N),y(N),y(N)])])):(u(),A("div",Zt,"Nakon vi\u0161e ponovljenih poku\u0161aja, nije mogu\u0107e dohvatiti evente.")),s(p)?X("",!0):(u(),A("div",Xt,[y(H,null,{default:j(()=>[y(pt,null,{default:j(()=>[(u(!0),A(V,null,q(be.value,d=>(u(),w(at,{key:d,active:d===n.value,label:d+1,color:d===n.value?"lightDark":"whiteDark",small:"",onClick:z=>n.value=d},null,8,["active","label","color","onClick"]))),128))]),_:1}),c("small",null,"Stranica "+B(Z.value)+" od "+B($.value),1)]),_:1})]))]),_:1})]),_:1})):X("",!0)]))}};export{ba as default};
