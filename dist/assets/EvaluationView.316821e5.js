import{c as $,be as A,l as M,T as N,_ as P}from"./BaseButton.4d949780.js";import{u as U,h as I,a as w,s as F,U as B,r as G}from"./index.fe929ab9.js";import{S as E,U as g}from"./maps.e07f7025.js";import{a as V,_ as b}from"./SectionTitleLineWithButton.8492240e.js";import{_ as q}from"./TableAvailableAssignments.8c33d5c6.js";import{_ as J,F as K,a as L}from"./SnackBar.c6f23902.js";import{_ as R}from"./FormDynamic.64e728fa.js";import{r as s,q as H,y as u,G as v,J as p,K as d,F as l,x as n,z as t,u as e,A as r,P as C}from"./vue.7e7f5872.js";import"./vendor.4c47bd8f.js";import"./validators.2340ccfd.js";import"./LayoutAuthenticated.fcf4a773.js";import"./BaseButtons.06021fb9.js";import"./CardBox.85c849c3.js";import"./FormCheckRadio.eb16ec4e.js";import"./FormField.fb83542c.js";import"./FormFilePicker.78b9d114.js";import"./FormCheckRadioGroup.c52e2c40.js";import"./LoadingOverlay.2ccac9fd.js";const O={href:"",target:"_blank"},Q=["src"],W={key:0},X={class:"mb-4"},Y={class:"text-lg font-bold sm:text-2xl"},Z={class:"text-base font-bold"},aa={class:"mt-1 text-small font-medium text-gray-600"},ea=t("p",{class:"mb-4"},"Molimo da nakon \u0161to evaluirate studenta (bilo to kroz intervju, tehni\u010Dki ispit ili pak bez procesa selekcije) potvrdite prihva\u0107ate li studenta za obavljanje prakse u Va\u0161em poduze\u0107u.",-1),ta={key:1},sa=t("b",null,"Gre\u0161ka!",-1),na={key:0},la={key:1},ia=t("p",{class:"mt-4"},"Molimo poku\u0161ajte ponovno kasnije ili kontaktirajte voditelja prakse.",-1),oa=t("br",null,null,-1),ua=t("span",{style:{color:"#e25555"}},"\u2665",-1),Ca={__name:"EvaluationView",setup(da){const i=s(null),h=s(null),a=s(null),c=s(null),S=U();let f=s(null),o=s(null);const j=s(!1);H(async()=>{if(i.value=S.params.process_instance_id,a.value=await I.getInstanceInfo(i.value),a.value==null){j.value=!0;return}h.value=await I.getAssignmentDetails(a.value.variables.Alocirani_zadatak),f.value=h.value.data.results[0],c.value=await w.getTaskInfo(i.value,a.value.pending[0]),o.value={student_ime:a.value.variables.student_ime,student_prezime:a.value.variables.student_prezime,student_email:a.value.variables.student_email,student_godina_studija:a.value.variables.student_godina_studija}});const _=s({}),k=s(!1);async function T(){k.value=!0,w.handleNewInstance(i.value,a.value.pending[0],_.value),g.getTaskProperty(a.value.pending[0],"snackbar_msg")&&F.pushMessage(g.getTaskProperty(a.value.pending[0],"snackbar_msg"),g.getTaskProperty(a.value.pending[0],"snackbar_color")),await B.wait(2),k.value=!1,G.push("/")}const y=s(!0),D=x=>{y.value=!x};return(x,m)=>(n(),u("div",null,[j.value?d("",!0):(n(),v(V,{key:0},{default:p(()=>[l(b,{icon:a.value!=null&&a.value.pending[0]=="evaluacija_poslodavac"?e($):e(A),title:a.value!=null&&a.value.pending[0]=="evaluacija_poslodavac"?"Student":"Gre\u0161ka",main:""},{default:p(()=>[t("a",O,[t("img",{src:e(K),class:"max-h-14 object-contain"},null,8,Q)])]),_:1},8,["icon","title"]),a.value!=null&&a.value.pending[0]=="evaluacija_poslodavac"?(n(),u("div",W,[t("div",X,[t("h1",Y,r(e(o).student_ime)+" "+r(e(o).student_prezime),1),t("h3",Z,r(e(o).student_email),1),t("p",aa,r(e(E).getGodinaStudija(e(o).student_godina_studija)),1)]),l(b,{icon:e(M),title:"Alocirani zadatak",main:""},null,8,["icon"]),e(f)!=null?(n(),v(q,{key:0,data:e(f)},null,8,["data"])):d("",!0),l(b,{icon:e(N),title:"Evaluacija kandidata",class:"mt-4",main:""},null,8,["icon"]),ea,c.value!=null?(n(),v(R,{key:1,modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=z=>_.value=z),class:"mb-4","form-fields":c.value.form_fields,variables:a.value.variables,documentation:c.value.documentation,onAllFieldsFilled:D},null,8,["modelValue","form-fields","variables","documentation"])):d("",!0),_.value.kandidat_odobren?(n(),v(P,{key:2,class:"mb-4",label:"Potvrdi",loading:k.value,color:"fipu_blue",onDisabled:y.value,onClick:m[1]||(m[1]=z=>T())},null,8,["loading","onDisabled"])):d("",!0)])):(n(),u("div",ta,[l(V,null,{default:p(()=>[sa,a.value==null?(n(),u("div",na,"Ne postoji proces s ID-em "+r(i.value)+".",1)):a.value.pending[0]!="evaluacija_poslodavac"?(n(),u("div",la,"Studenta je trenutno nemogu\u0107e evaluirati budu\u0107i da ga voditelj prakse jo\u0161 nije alocirao na zadatak.")):d("",!0),ia]),_:1})]))]),_:1})),l(J,null,{default:p(()=>[oa,C("Made with "),ua,C(" at FIPU.lab")]),_:1}),l(L)]))}};export{Ca as default};
