import{af as x,_ as V}from"./BaseButton.2cef5f39.js";import{s as m}from"./index.4853f032.js";import{r as p,f as h,w as R,x as g,y,z as i,F as w,C as z,A as F,K as I}from"./vue.20f6a325.js";const j={class:"flex items-stretch justify-start relative"},B={class:"inline-flex"},S=["accept"],U={key:0,class:"px-4 py-2 bg-gray-100 dark:bg-slate-800 border-gray-200 dark:border-slate-700 border rounded-r"},L={class:"text-ellipsis line-clamp-1"},M={__name:"FormFilePicker",props:{modelValue:{type:[Object,File,Array],default:null},label:{type:String,default:null},icon:{type:String,default:x},accept:{type:String,default:"image/*"},pdf:{type:Boolean,default:!1},color:{type:String,default:"fipu_blue"},isRoundIcon:Boolean},emits:["update:modelValue"],setup(e,{emit:c}){const t=e,r=p(null),l=p(t.modelValue),u=h(()=>!t.isRoundIcon&&l.value),b=h(()=>t.modelValue);R(b,a=>{l.value=a,a||(r.value.input.value=null)});const v=async a=>{const o=a.target.files||a.dataTransfer.files;if(!o||o.length===0)return;const n=o[0],k=2*1024*1024,d={width:1024,height:1024};if(!t.pdf&&n.size>k){m.pushMessage("Veli\u010Dina datoteke ne mo\u017Ee prema\u0161iti 2MB.","danger");return}if(t.pdf)l.value=n,c("update:modelValue",l.value);else{const s=new Image,f=URL.createObjectURL(n);s.src=f,s.onload=()=>{if(URL.revokeObjectURL(f),s.width>d.width||s.height>d.height){m.pushMessage("Dimenzije slike ne smiju biti ve\u0107e od 1024x1024px.","danger");return}l.value=n,c("update:modelValue",l.value)}}};return(a,o)=>(g(),y("div",j,[i("label",B,[w(V,{as:"a",class:z({"w-12 h-12":e.isRoundIcon,"rounded-r-none":u.value}),"icon-size":e.isRoundIcon?24:void 0,label:e.isRoundIcon?null:e.label,icon:e.icon,color:e.color,"rounded-full":e.isRoundIcon},null,8,["class","icon-size","label","icon","color","rounded-full"]),i("input",{ref_key:"root",ref:r,type:"file",class:"absolute top-0 left-0 w-full h-full opacity-0 outline-none cursor-pointer -z-1",accept:e.pdf?"application/pdf":e.accept,onInput:v},null,40,S)]),u.value?(g(),y("div",U,[i("span",L,F(l.value.name),1)])):I("",!0)]))}};export{M as _};
