import{ad as V,_ as R}from"./BaseButton.419ff30e.js";import{s as m}from"./index.1a5b1d5b.js";import{r as p,f as h,w,x as g,y,z as i,F as z,C as F,A as I,K as j}from"./vue.f9cfebed.js";const B={class:"flex items-stretch justify-start relative"},S={class:"inline-flex"},U=["accept"],L={key:0,class:"px-4 py-2 bg-gray-100 dark:bg-slate-800 border-gray-200 dark:border-slate-700 border rounded-r"},_={class:"text-ellipsis line-clamp-1"},N={__name:"FormFilePicker",props:{modelValue:{type:[Object,File,Array],default:null},label:{type:String,default:null},icon:{type:String,default:V},accept:{type:String,default:"image/*"},pdf:{type:Boolean,default:!1},color:{type:String,default:"fipu_blue"},isRoundIcon:Boolean},emits:["update:modelValue"],setup(e,{emit:b}){const a=e,c=b,r=p(null),l=p(a.modelValue),u=h(()=>!a.isRoundIcon&&l.value),v=h(()=>a.modelValue);w(v,t=>{l.value=t,t||(r.value.input.value=null)});const k=async t=>{const o=t.target.files||t.dataTransfer.files;if(!o||o.length===0)return;const n=o[0],x=2*1024*1024,d={width:1024,height:1024};if(!a.pdf&&n.size>x){m.pushMessage("Veli\u010Dina datoteke ne mo\u017Ee prema\u0161iti 2MB.","danger");return}if(a.pdf)l.value=n,c("update:modelValue",l.value);else{const s=new Image,f=URL.createObjectURL(n);s.src=f,s.onload=()=>{if(URL.revokeObjectURL(f),s.width>d.width||s.height>d.height){m.pushMessage("Dimenzije slike ne smiju biti ve\u0107e od 1024x1024px.","danger");return}l.value=n,c("update:modelValue",l.value)}}};return(t,o)=>(g(),y("div",B,[i("label",S,[z(R,{as:"a",class:F({"w-12 h-12":e.isRoundIcon,"rounded-r-none":u.value}),"icon-size":e.isRoundIcon?24:void 0,label:e.isRoundIcon?null:e.label,icon:e.icon,color:e.color,"rounded-full":e.isRoundIcon},null,8,["class","icon-size","label","icon","color","rounded-full"]),i("input",{ref_key:"root",ref:r,type:"file",class:"absolute top-0 left-0 w-full h-full opacity-0 outline-none cursor-pointer -z-1",accept:e.pdf?"application/pdf":e.accept,onInput:k},null,40,U)]),u.value?(g(),y("div",L,[i("span",_,I(l.value.name),1)])):j("",!0)]))}};export{N as _};
