import{d as T,bc as $,n as A,S as M,_ as U}from"./BaseButton.bc4b7cea.js";import{i as I,a as w,u as F,s as P,U as B,r as G}from"./index.79b4ef11.js";import{S as E,U as g}from"./maps.e75fd1f7.js";import{a as S,_ as b}from"./SectionTitleLineWithButton.01820f4a.js";import{a as q}from"./TableAvailableAssignments.29413b37.js";import{_ as J,F as K,a as L}from"./SnackBar.1a5a1851.js";import{_ as R}from"./FormDynamic.a5921b78.js";import{r as n,q as H,y as r,G as p,J as _,K as d,F as i,x as s,z as l,u as t,A as m,N as V}from"./vue.f9cfebed.js";import"./vendor.15896b3d.js";import"./validators.3759a75c.js";import"./LayoutAuthenticated.0d193c5e.js";import"./BaseButtons.e0ebdabe.js";import"./CardBox.07416a0a.js";import"./FormCheckRadio.8030a8fa.js";import"./FormField.2e1ad0a6.js";import"./FormFilePicker.ac45ab1f.js";import"./FormCheckRadioGroup.fc40e1b5.js";import"./LoadingOverlay.e769fc1d.js";const O={href:"",target:"_blank"},Q=["src"],W={key:0},X={class:"mb-4"},Y={class:"text-lg font-bold sm:text-2xl"},Z={class:"text-base font-bold"},aa={class:"mt-1 text-small font-medium text-gray-600"},ea={key:1},ta={key:0},la={key:1},xa={__name:"EvaluationView",setup(na){const o=n(null),j=n(null),a=n(null),c=n(null),C=F();let f=n(null),u=n(null);const y=n(!1);H(async()=>{if(o.value=C.params.process_instance_id,a.value=await I.getInstanceInfo(o.value),a.value==null){y.value=!0;return}j.value=await I.getAssignmentDetails(a.value.variables.Alocirani_zadatak),f.value=j.value.data.results[0],c.value=await w.getTaskInfo(o.value,a.value.pending[0]),u.value={student_ime:a.value.variables.student_ime,student_prezime:a.value.variables.student_prezime,student_email:a.value.variables.student_email,student_godina_studija:a.value.variables.student_godina_studija}});const v=n({}),k=n(!1);async function D(){k.value=!0,w.handleNewInstance(o.value,a.value.pending[0],v.value),g.getTaskProperty(a.value.pending[0],"snackbar_msg")&&P.pushMessage(g.getTaskProperty(a.value.pending[0],"snackbar_msg"),g.getTaskProperty(a.value.pending[0],"snackbar_color")),await B.wait(2),k.value=!1,G.push("/")}const h=n(!0),N=x=>{h.value=!x};return(x,e)=>(s(),r("div",null,[y.value?d("",!0):(s(),p(S,{key:0},{default:_(()=>[i(b,{icon:a.value!=null&&a.value.pending[0]=="evaluacija_poslodavac"?t(T):t($),title:a.value!=null&&a.value.pending[0]=="evaluacija_poslodavac"?"Student":"Gre\u0161ka",main:""},{default:_(()=>[l("a",O,[l("img",{src:t(K),class:"max-h-14 object-contain"},null,8,Q)])]),_:1},8,["icon","title"]),a.value!=null&&a.value.pending[0]=="evaluacija_poslodavac"?(s(),r("div",W,[l("div",X,[l("h1",Y,m(t(u).student_ime)+" "+m(t(u).student_prezime),1),l("h3",Z,m(t(u).student_email),1),l("p",aa,m(t(E).getGodinaStudija(t(u).student_godina_studija)),1)]),i(b,{icon:t(A),title:"Alocirani zadatak",main:""},null,8,["icon"]),t(f)!=null?(s(),p(q,{key:0,data:t(f)},null,8,["data"])):d("",!0),i(b,{icon:t(M),title:"Evaluacija kandidata",class:"mt-4",main:""},null,8,["icon"]),e[2]||(e[2]=l("p",{class:"mb-4"},"Molimo da nakon \u0161to evaluirate studenta (bilo to kroz intervju, tehni\u010Dki ispit ili pak bez procesa selekcije) potvrdite prihva\u0107ate li studenta za obavljanje prakse u Va\u0161em poduze\u0107u.",-1)),c.value!=null?(s(),p(R,{key:1,modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=z=>v.value=z),class:"mb-4","form-fields":c.value.form_fields,variables:a.value.variables,documentation:c.value.documentation,onAllFieldsFilled:N},null,8,["modelValue","form-fields","variables","documentation"])):d("",!0),v.value.kandidat_odobren?(s(),p(U,{key:2,class:"mb-4",label:"Potvrdi",loading:k.value,color:"fipu_blue",onDisabled:h.value,onClick:e[1]||(e[1]=z=>D())},null,8,["loading","onDisabled"])):d("",!0)])):(s(),r("div",ea,[i(S,null,{default:_(()=>[e[3]||(e[3]=l("b",null,"Gre\u0161ka!",-1)),a.value==null?(s(),r("div",ta,"Ne postoji proces s ID-em "+m(o.value)+".",1)):a.value.pending[0]!="evaluacija_poslodavac"?(s(),r("div",la,"Studenta je trenutno nemogu\u0107e evaluirati budu\u0107i da ga voditelj prakse jo\u0161 nije alocirao na zadatak.")):d("",!0),e[4]||(e[4]=l("p",{class:"mt-4"},"Molimo poku\u0161ajte ponovno kasnije ili kontaktirajte voditelja prakse.",-1))]),_:1})]))]),_:1})),i(J,null,{default:_(()=>e[5]||(e[5]=[l("br",null,null,-1),V("Made with "),l("span",{style:{color:"#e25555"}},"\u2665",-1),V(" at FIPU.lab")])),_:1}),i(L)]))}};export{xa as default};
