import{a as F,r as u,f as S,G as I,J as i,_ as T,x as h,F as a,y as E,z as t,u as l,O as j,N as m,A as y,K as q,T as G}from"./vue.f9cfebed.js";import{c as V,d as O,b7 as D,_ as g,F as H,G as J,H as K,I as Z}from"./BaseButton.419ff30e.js";import{b as Q,c as W,m as w,U as X}from"./index.1a5b1d5b.js";import{c as d,r as U,d as Y,i as ee,m as ae,u as te,g as z}from"./validators.3759a75c.js";import{_ as le,l as ie}from"./login_art.469df7fb.js";import{_ as L}from"./CardBox.7255aa86.js";import{_ as oe}from"./FormCheckRadio.8030a8fa.js";import{_ as C}from"./FormField.a44fc0b4.js";import{_ as M}from"./BaseButtons.e0ebdabe.js";import{f as se}from"./fipu_unipu.dcc21bb0.js";import"./vendor.15896b3d.js";const ne={key:0,class:"flex flex-col justify-center items-center overflow-hidden h-screen md:py-4 xl:py-4 2xl:py-8 || transition-all duration-300"},re={class:"flex flex-col md:flex-row flex-shrink h-full rounded-lg overflow-hidden"},ue={class:"flex flex-col md:flex-row flex-shrink h-full || bg-white overflow-y-auto fipu_vertical_scrollbar || transition-all duration-300 px-0 lg:px-6 xl:px-16 2xl:px-28 || xl:gap-4 2xl:gap-8"},me=["src"],de={href:"https://fipu.unipu.hr/",target:"_blank"},fe=["src"],ce={class:"md:text-sm lg:text-sm 2xl:text-base mb-2 2xl:mb-4"},pe={class:"md:text-sm lg:text-sm 2xl:text-base mb-2 2xl:mb-4"},xe={__name:"LoginView",setup(ve){const s=F({email:"",password:"",remember_me:!1}),$={email:{required:d.withMessage("Polje je obavezno",U),email:d.withMessage("Molimo unesite ispravnu e-mail adresu",Y),isUnipuEmail:d.withMessage("Molimo unesite va\u0161u UNIPU e-mail adresu",ee)},password:{required:d.withMessage("Polje je obavezno",U),minLength:d.withMessage("Lozinka mora sadr\u017Eavati minimalno 6 znakova",ae(6))}},p=te($,s),r=u(!1);async function N(){if(r.value=!0,!await p.value.$validate()){r.value=!1;return}let e=await w.login(s);r.value=!1,w.userAuthenticated?(v("success"),await X.wait(1),w.handleSuccessfulLogin()):e.response.status===403?v("warning"):v("danger")}const o=u(null);let f=u(),c=u();const B=u([]),x=S(()=>B.value.indexOf("outline")>-1);function v(b){switch(b){case"success":o.value.color="success",o.value.icon=Z,o.value.duration=1,f.value="To je to!",c.value=" Uspje\u0161na prijava!";break;case"warning":o.value.color="warning",o.value.icon=K,f.value="Upozorenje.",c.value="Unijeli ste krive podatke. Provjerite unos i poku\u0161ajte ponovno.";break;case"danger":o.value.color="danger",o.value.icon=J,f.value="Gre\u0161ka!",c.value="Gre\u0161ka u sustavu.  Nije do vas, molimo poku\u0161ajte opet ili kontaktirajte profesora.";break}o.value.show()}const k=u(!1);function P(){k.value=!0}const _=W();function R(){_.push("/register")}return(b,e)=>{const A=T("NotificationBar");return h(),I(le,{bg:"blue",class:"flex items-start min-h-screen"},{default:i(()=>[a(G,{appear:"","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__slideOutRight fast-animation",onAfterLeave:R},{default:i(()=>[k.value?q("",!0):(h(),E("div",ne,[t("div",re,[t("div",ue,[a(L,{"has-table":"",class:"hidden xl:flex justify-center items-center flex-1 bg-opacity-0 grow p-16 xl:px-0 ultrawide xl:py-16 2xl:py-24 || transition-all duration-300"},{default:i(()=>[t("img",{src:l(ie),alt:"Login graphics",class:"2xl:pr-8 ultrawide:w-3/4 ultrawide:pr-0 aspect-square max-h-full"},null,8,me)]),_:1}),a(L,{"has-table":"","vertical-centered":"",class:"flex flex-col flex-shrink flex-1 bg-opacity-0 p-8 sm:p-16 xl:pl-2 xl:px-0 xl:py-24 || transition-all duration-300","is-form":"",onSubmit:j(N,["prevent"])},{default:i(()=>[t("a",de,[t("img",{src:l(se),alt:"fipu logo",class:"h-20 xl:h-20 2xl:h-16 ultrawide:h-28 mb-3 2xl:mb-4 object-contain transition-all duration-300"},null,8,fe)]),e[9]||(e[9]=t("h2",{class:"text-2xl lg:text-3xl 2xl:text-4xl text-fipu_gray font-bold xl:mb-1 mb-2 md:mb-0 2xl:mb-4"},[m("Dobrodo\u0161li u "),t("span",{class:"text-fipu_blue"},"FIPU Praksa")],-1)),t("h2",ce,[e[5]||(e[5]=m(" Molimo prijavite se kako biste pregledali stanje va\u0161e prakse ili prijavili zadatke. Ukoliko \u017Eelite samo pregledati dostupne zadatke i poduze\u0107a, molimo nastavite kao gost ")),t("a",{class:"hover-underline-animation cursor-pointer text-fipu_text_blue hover:text-fipu_blue",onClick:e[0]||(e[0]=n=>l(_).push("/moja-praksa"))}," ovdje"),e[6]||(e[6]=m(". "))]),t("h2",pe,[e[7]||(e[7]=m(" Poslodavac ste ili mentor te \u017Eelite prijaviti novi zadatak za praksu? To mo\u017Eete u\u010Diniti ")),t("a",{class:"hover-underline-animation cursor-pointer text-fipu_text_blue hover:text-fipu_blue",onClick:e[1]||(e[1]=n=>l(_).push("/poslodavci/novi-zadatak"))}," ovdje"),e[8]||(e[8]=m(". "))]),a(C,{label:"E-mail"},{default:i(()=>[a(V,{modelValue:s.email,"onUpdate:modelValue":e[2]||(e[2]=n=>s.email=n),"icon-left":l(O),name:"email",autocomplete:"email",error:l(z)(l(p),"email")},null,8,["modelValue","icon-left","error"])]),_:1}),a(C,{label:"Lozinka"},{default:i(()=>[a(V,{modelValue:s.password,"onUpdate:modelValue":e[3]||(e[3]=n=>s.password=n),"icon-left":l(D),name:"password",type:"password",autocomplete:"password",error:l(z)(l(p),"password")},null,8,["modelValue","icon-left","error"])]),_:1}),a(oe,{modelValue:s.remember_me,"onUpdate:modelValue":e[4]||(e[4]=n=>s.remember_me=n),name:"remember",label:"Zapamti me!",class:"mb-4 2xl:mb-4","input-value":!0},null,8,["modelValue"]),a(M,{class:"space-y-2"},{default:i(()=>[a(g,{type:"submit",color:"fipu_blue",label:"Prijavi se",disabled:r.value,loading:r.value,class:"w-full"},null,8,["disabled","loading"])]),_:1}),e[10]||(e[10]=t("div",{class:"my-2 2xl:my-4 flex items-center before:mt-0.5 before:flex-1 before:border-t before:border-neutral-300 after:mt-0.5 after:flex-1 after:border-t after:border-neutral-300"},[t("p",{class:"mx-4 mb-0 text-center dark:text-white"},"ili")],-1)),a(M,{class:"space-y-2"},{default:i(()=>[a(g,{color:"fipu_blue",outline:"",label:"Registracija",disabled:r.value,class:"w-full",onClick:j(P,["prevent"])},null,8,["disabled"])]),_:1}),a(A,{ref_key:"notificationBar",ref:o,class:"animate__animated animate__fadeInUp mt-4",outline:x.value},{right:i(()=>[a(g,{icon:l(H),color:x.value?"success":"white",outline:x.value,"rounded-full":"",small:""},null,8,["icon","color","outline"])]),default:i(()=>[t("b",null,y(l(f)),1),m(" "+y(l(c))+" ",1)]),_:1},8,["outline"])]),_:1})])])]))]),_:1})]),_:1})}}},Le=Q(xe,[["__scopeId","data-v-f766bf43"]]);export{Le as default};
